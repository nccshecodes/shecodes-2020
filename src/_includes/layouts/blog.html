{% extends "layouts/base.html" %}
{% set headerCol = "light" %}
{% set pageHeaderColor = "primary" %}
{% set pageHeaderTitle = title %}
{% set pattern = "dark" %}
{% set postListItems = pagination.items %}

{% set pageCriticalStyles = ['css/blog.css'] %}

{% block content %}
  <article class="blog">
    {% include "partials/page-title.html" %}
    <div class="[ grid-12-col ] [ flow wrapper ] [ flow-space-400 ]">
      {% set latest = collections.blog[0] %}
      <section class="[ latest ] [ flow panel ]">
        <h2 class="section__heading">Latest</h2>
        <h3 class="latest__heading"><a href="{{ latest.url }}">{{ latest.data.title }}</a></h3>
        <time datetime="{{ latest.data.date }}">{{ latest.data.date | dateFilter("full") }}</time>
        <p class="latest__excerpt">{{ latest.data.excerpt }}</p>
        {% set tags = latest.data.tags %}
        {% include "partials/tags.html" %}
      </section>
      <img class="latest__image" src="{{ latest.data.featureImage }}" alt="" />

      <hr class="divider divider--vertical">

      {% set levelPosts = collections['level up'] %}
      {% if levelPosts %}
        <h2 id="lup" class="cat-header">Level Up</h2>
        <hr class="divider divider--right-col">
        <ul class="[ flow ] [ flow-space-400 ]" aria-labelledby="lup">
          {% for post in levelPosts %}
              <li class="[ divider-bottom ] [ flow ]">
                <a href="{{ post.url }}">
                  <h3>{{ post.data.title }}</h3>
                </a>
                <time datetime="{{ post.data.date }}">{{ post.data.date | dateFilter("full") }}</time>
                {% set tags = post.data.tags %}
                <div class="[ tags-wrapper ] [ flow-space-100 ]">
                  {% include "partials/tags.html" %}
                </div>
              </li>
          {% endfor %}
        </ul>
      {% endif %}

      {% set startupPosts = collections['startup'] %}
      {% if startupPosts %}
        <h2 id="sup" class="cat-header">Startup</h2>
        <hr class="divider divider--right-col">
        <ul class="[ flow ] [ flow-space-400 ]" aria-labelledby="sup">
          {% for post in startupPosts %}
            <li class="[ divider-bottom ] [ flow ]">
              <a href="{{ post.url }}">
                <h3>{{ post.data.title }}</h3>
              </a>
              <time datetime="{{ post.data.date }}">{{ post.data.date | dateFilter("full") }}</time>
              {% set tags = post.data.tags %}
              <div class="[ tags-wrapper ] [ flow-space-100 ]">
                {% include "partials/tags.html" %}
              </div>
            </li>

          {% endfor %}
        </ul>
      {% endif %}

      {% set soapboxPosts = collections['soapbox'] %}
      {% if soapboxPosts %}
        <h2 id="sbox" class="cat-header">Soapbox</h2>
        <hr class="divider divider--right-col">
        <ul class="[ flow ] [ flow-space-400 ]" aria-labelledby="sbox">
          {% for post in soapboxPosts %}
            <li class="[ divider-bottom ] [ flow ]">
              <a href="{{ post.url }}">
                <h3>{{ post.data.title }}</h3>
              </a>
              <time datetime="{{ post.data.date }}">{{ post.data.date | dateFilter("full") }}</time>
              {% set tags = post.data.tags %}
              <div class="[ tags-wrapper ] [ flow-space-100 ]">
                {% include "partials/tags.html" %}
              </div>
            </li>
          {% endfor %}
        </ul>
      {% endif %}

      <h2 id="arc">Archives</h2>
      <hr class="divider divider--left-col">
      <ul class="list-archives" aria-labelledby="arc">
        {% for tag in collections.tagList %}
          <li class="divider-bottom">{{ collections[ tag ] | length }} {{ tag }}</li>
        {% endfor %}
      </ul>
    </div>
  </article>
{% endblock %}
